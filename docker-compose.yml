version: "3.9"

services:
  serviceregistry:
    hostname: serviceregistry
    container_name: serviceregistry
    build: 
      context: .
      dockerfile: Dockerfile
    stdin_open: true
    tty: true

  node:
    build:
      context: .
      dockerfile: Dockerfile
    depends_on:
      - serviceregistry
    stdin_open: true
    tty: true
    deploy: 
      mode: replicated
      replicas: 4
